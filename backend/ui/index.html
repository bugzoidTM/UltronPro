<!-- ... existing tabs ... -->
<button class="tab" data-tab="settings">‚öôÔ∏è Config</button>

<!-- ... existing tab contents ... -->

<!-- Settings Tab -->
<div id="tab-settings" class="tab-content">
  <div class="card">
    <div class="card-header">
      <div class="card-title"><span class="icon">‚öôÔ∏è</span> Configura√ß√µes de API</div>
    </div>
    <div class="card-body">
      <form id="settingsForm">
        <div class="form-group">
          <label>OpenAI API Key (gpt-4o-mini)</label>
          <input type="password" name="openai_api_key" placeholder="sk-...">
        </div>
        
        <div class="form-group">
          <label>Anthropic API Key (Claude 3.5 Sonnet)</label>
          <input type="password" name="anthropic_api_key" placeholder="sk-ant-...">
        </div>
        
        <div class="form-group">
          <label>Groq API Key (Llama 3 70B - R√°pido & Barato)</label>
          <input type="password" name="groq_api_key" placeholder="gsk_...">
        </div>
        
        <div class="form-group">
          <label>DeepSeek API Key (Racioc√≠nio Profundo)</label>
          <input type="password" name="deepseek_api_key" placeholder="sk-...">
        </div>
        
        <div class="form-group">
          <label>LightRAG API Key (Mem√≥ria Externa)</label>
          <input type="password" name="lightrag_api_key" placeholder="...">
        </div>
        
        <div class="form-group">
          <label>LightRAG URL</label>
          <input type="text" name="lightrag_url" placeholder="http://...">
        </div>
        
        <button type="submit" class="btn" style="margin-top: 20px;">üíæ Salvar Configura√ß√µes</button>
      </form>
    </div>
  </div>
</div>

<script>
// ... existing scripts ...

// Load settings on tab switch
document.querySelector('.tab[data-tab="settings"]').addEventListener('click', loadSettings);

async function loadSettings() {
  try {
    const r = await api('/api/settings');
    const s = r.settings || {};
    const form = document.getElementById('settingsForm');
    
    // Fill form
    for (const k in s) {
      if (form[k]) {
        // If it's a key, show placeholder if set
        if (k.includes('key') && s[k]) {
           form[k].placeholder = "Configurada (" + s[k] + ")";
           form[k].value = ""; // Clear value for security
        } else {
           form[k].value = s[k];
        }
      }
    }
  } catch (e) {
    showToast('Erro ao carregar settings: ' + e.message, 'error');
  }
}

document.getElementById('settingsForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const form = e.target;
  const data = {};
  
  // Only send fields that have values (user typed something)
  new FormData(form).forEach((value, key) => {
    if (value.trim()) data[key] = value.trim();
  });
  
  try {
    await api('/api/settings', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });
    showToast('‚úÖ Configura√ß√µes salvas com sucesso!');
    loadSettings(); // Reload to update placeholders
  } catch (e) {
    showToast('‚ùå Erro ao salvar: ' + e.message, 'error');
  }
});
</script>
